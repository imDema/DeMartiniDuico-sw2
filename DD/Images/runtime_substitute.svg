<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="996" height="841"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="996" height="841"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 99.51908472000001 126.434473542 L 99.51908472000001 809.4972823019999" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 287.98928885046877 126.434473542 L 287.98928885046877 809.4972823019999" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 624.6594746703906 126.434473542 L 624.6594746703906 809.4972823019999" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 790.3398210434375 126.434473542 L 790.3398210434375 809.4972823019999" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 896.6118658293369 126.434473542 L 896.6118658293369 809.4972823019999" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 108.11391476400001 62.65178742599999 A 8.594830044 8.594830044 0 1 1 108.11391046658534 62.643192597388456 M 99.51908472000001 71.24661746999999 L 99.51908472000001 89.64256949399999 M 88.66245729600001 77.881223118 L 110.375712144 77.881223118 M 99.51908472000001 89.64256949399999 L 88.66245729600001 106.832229582 M 99.51908472000001 89.64256949399999 L 110.375712144 106.832229582" stroke-miterlimit="10" stroke-width="2.5633703640000003" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.33726671157716" y="121.91087878200001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 212.57440811226758 85.872907194 L 363.4041695886699 85.872907194 L 363.4041695886699 126.434473542 L 212.57440811226758 126.434473542 L 212.57440811226758 85.872907194 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="228.9347424942676" y="111.355824342" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Clup Webapp (Staff)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 537.6264107962031 85.872907194 L 711.6925385445782 85.872907194 L 711.6925385445782 126.434473542 L 537.6264107962031 126.434473542 L 537.6264107962031 85.872907194 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="553.9867451782031" y="111.355824342" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">CLup Application Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 734.670397000793 85.872907194 L 846.009245086082 85.872907194 L 846.009245086082 126.434473542 L 734.670397000793 126.434473542 L 734.670397000793 85.872907194 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="751.030731382793" y="111.355824342" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Session store</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 861.087894286082 85.872907194 L 932.1358373725918 85.872907194 L 932.1358373725918 126.434473542 L 861.087894286082 126.434473542 L 861.087894286082 85.872907194 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="877.448228668082" y="111.355824342" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DBMS</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 91.97976012000001 133.97379814200002 L 107.05840932000001 133.97379814200002 L 107.05840932000001 752.198415342 L 91.97976012000001 752.198415342 L 91.97976012000001 133.97379814200002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 280.4499642504688 176.19401590200002 L 295.52861345046875 176.19401590200002 L 295.52861345046875 741.6433609019999 L 280.4499642504688 741.6433609019999 L 280.4499642504688 176.19401590200002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 617.1201500703907 218.41423366200002 L 632.1987992703906 218.41423366200002 L 632.1987992703906 699.423143142 L 617.1201500703907 699.423143142 L 617.1201500703907 218.41423366200002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 782.8004964434375 260.63445142200004 L 797.8791456434375 260.63445142200004 L 797.8791456434375 302.85466918200007 L 782.8004964434375 302.85466918200007 L 782.8004964434375 260.63445142200004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 889.0725412293369 345.0748869420001 L 904.1511904293369 345.0748869420001 L 904.1511904293369 387.2951047020001 L 889.0725412293369 387.2951047020001 L 889.0725412293369 345.0748869420001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 624.6594746703906 449.1175664220001 L 639.7381238703906 449.1175664220001 L 639.7381238703906 459.6726208620001 L 624.6594746703906 459.6726208620001 L 624.6594746703906 449.1175664220001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 889.0725412293369 614.982707622 L 904.1511904293369 614.982707622 L 904.1511904293369 657.202925382 L 889.0725412293369 657.202925382 L 889.0725412293369 614.982707622" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><g/><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 7.5393246000000005 L 988.591625949337 7.5393246000000005 L 988.591625949337 833.623121022 L 7.5393246000000005 833.623121022 L 7.5393246000000005 7.5393246000000005 Z" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 7.5393246000000005 L 7.5393246000000005 28.64943348 L 140.62389770397948 28.64943348 L 151.17895214397947 18.09437904 L 151.17895214397947 7.5393246000000005 L 7.5393246000000005 7.5393246000000005" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="bold" text-decoration="normal" x="22.6179738" y="21.86404134" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">sd</text><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="42.017973418530275" y="21.86404134" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">logged-in Staff</text></g><g><g><rect fill="white" stroke="none" x="124.90147754000002" y="156.591771942" width="137.70541849046876" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="127.16327492000002" y="170.162556222" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ask for substitute ticket</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 107.05840932000001 176.19401590200002 L 268.0352097424688 176.19401590200002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(280.4499642504688,176.19401590200002) translate(-280.4499642504688,-176.19401590200002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 267.8844232504688 169.91124540200002 L 280.4499642504688 176.19401590200002 L 267.8844232504688 182.47678640200002 Z"/></g></g><g><g><rect fill="white" stroke="none" x="313.3716816704687" y="198.811989702" width="285.90540017992186" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.63347905046874" y="212.382773982" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /staff/shop/{shop_id}/ticket/new-substitute</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 295.52861345046875 218.41423366200002 L 604.7053955623907 218.41423366200002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(617.1201500703907,218.41423366200002) translate(-617.1201500703907,-218.41423366200002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 604.5546090703906 212.13146316200002 L 617.1201500703907 218.41423366200002 L 604.5546090703906 224.697004162 Z"/></g></g><g><g><rect fill="white" stroke="none" x="657.7742159859473" y="241.03220746200003" width="99.45086374193359" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="660.0360133659473" y="254.60299174200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">check_session()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 632.1987992703906 260.63445142200004 L 770.3857419354375 260.63445142200004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(782.8004964434375,260.63445142200004) translate(-782.8004964434375,-260.63445142200004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 770.2349554434375 254.35168092200004 L 782.8004964434375 260.63445142200004 L 770.2349554434375 266.91722192200007 Z"/></g></g><g><g><rect fill="white" stroke="none" x="705.2378504769141" y="283.25242522200006" width="4.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="707.4996478569141" y="296.82320950200005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 782.8004964434375 302.85466918200007 L 634.0836304203906 302.85466918200007" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(632.1987992703906,302.85466918200007) translate(-632.1987992703906,-302.85466918200007)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 645.1174863932098 297.09153304142455 L 633.6113837616671 302.85466918200007 L 645.1174863932098 308.6178053225756" stroke-miterlimit="10" stroke-width="1.2565541"/></g></g><g><g><rect fill="white" stroke="none" x="694.6920529540923" y="325.4726429820001" width="131.88723459154298" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="696.9538503340923" y="339.04342726200014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">get_waiting_list_info()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 632.1987992703906 345.0748869420001 L 876.657786721337 345.0748869420001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(889.0725412293369,345.0748869420001) translate(-889.0725412293369,-345.0748869420001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 876.5070002293369 338.79211644200007 L 889.0725412293369 345.0748869420001 L 876.5070002293369 351.3576574420001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="758.3738728698638" y="367.6928607420001" width="4.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="760.6356702498638" y="381.2636450220001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 889.0725412293369 387.2951047020001 L 634.0836304203906 387.2951047020001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(632.1987992703906,387.2951047020001) translate(-632.1987992703906,-387.2951047020001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 645.1174863932098 381.5319685614246 L 633.6113837616671 387.2951047020001 L 645.1174863932098 393.05824084257563" stroke-miterlimit="10" stroke-width="1.2565541"/></g></g><g><g><rect fill="white" stroke="none" x="657.5811920903907" y="409.9130785020001" width="119.94177713304687" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="659.8429894703906" y="423.4838627820001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">check_waiting_list()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 632.1987992703906 429.5153224620001 L 700.0527206703906 429.5153224620001 L 700.0527206703906 449.1175664220001 L 652.1528783783906 449.1175664220001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(639.7381238703906,449.1175664220001) translate(-639.7381238703906,-449.1175664220001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 652.3036648703907 442.83479592200007 L 639.7381238703906 449.1175664220001 L 652.3036648703907 455.4003369220001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="403.5444035332617" y="512.447893062" width="105.55995645433593" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="405.8062009132617" y="526.018677342" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">400 Bad Request</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 617.1201500703907 532.0501370220001 L 297.4134446004688 532.0501370220001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(295.52861345046875,532.0501370220001) translate(-295.52861345046875,-532.0501370220001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 308.44730057328786 526.2870008814247 L 296.9411979417452 532.0501370220001 L 308.44730057328786 537.8132731625755" stroke-miterlimit="10" stroke-width="1.2565541"/></g></g><g><g><rect fill="white" stroke="none" x="718.6920529540923" y="595.380463662" width="83.88723459154296" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="720.9538503340923" y="608.951247942" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">insert_ticket()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 632.1987992703906 614.982707622 L 876.657786721337 614.982707622" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(889.0725412293369,614.982707622) translate(-889.0725412293369,-614.982707622)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 876.5070002293369 608.699937122 L 889.0725412293369 614.982707622 L 876.5070002293369 621.265478122 Z"/></g></g><g><g><rect fill="white" stroke="none" x="758.3738728698638" y="637.600681422" width="4.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="760.6356702498638" y="651.171465702" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 889.0725412293369 657.202925382 L 634.0836304203906 657.202925382" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(632.1987992703906,657.202925382) translate(-632.1987992703906,-657.202925382)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 645.1174863932098 651.4397892414246 L 633.6113837616671 657.202925382 L 645.1174863932098 662.9660615225754" stroke-miterlimit="10" stroke-width="1.2565541"/></g></g><g><g><rect fill="white" stroke="none" x="349.20803878716794" y="679.820899182" width="214.23268594652345" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="351.46983616716795" y="693.391683462" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 OK (uid, shop_id, start_time, ...)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 617.1201500703907 699.423143142 L 297.4134446004688 699.423143142" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(295.52861345046875,699.423143142) translate(-295.52861345046875,-699.423143142)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 308.44730057328786 693.6600070014246 L 296.9411979417452 699.423143142 L 308.44730057328786 705.1862792825754" stroke-miterlimit="10" stroke-width="1.2565541"/></g></g><g><g><rect fill="white" stroke="none" x="159.765117371543" y="722.0411169419999" width="67.97813882738281" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="10pt" font-style="normal" font-weight="normal" text-decoration="normal" x="162.026914751543" y="735.6119012219999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">hand ticket</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 280.4499642504688 741.6433609019999 L 119.47316382800001 741.6433609019999" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(107.05840932000001,741.6433609019999) translate(-107.05840932000001,-741.6433609019999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 119.62395032 735.360590402 L 107.05840932000001 741.6433609019999 L 119.62395032 747.9261314019999 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 39.204487920000005 471.7355402220001 L 949.3871380293369 471.7355402220001 L 949.3871380293369 764.2613347019999 L 39.204487920000005 764.2613347019999 L 39.204487920000005 471.7355402220001 Z" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 39.204487920000005 471.7355402220001 L 39.204487920000005 489.8299192620001 L 81.87087769725831 489.8299192620001 L 90.91806721725831 480.78272974200013 L 90.91806721725831 471.7355402220001 L 39.204487920000005 471.7355402220001" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="54.283137120000006" y="483.7984595820001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="105.99671641725831" y="483.7984595820001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[waiting list is full]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 39.204487920000005 554.668110822 L 949.3871380293369 554.668110822" stroke-miterlimit="10" stroke-width="2.154092742857143" stroke-dasharray="3.7696623000000002"/></g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="105.99671641725831" y="566.731030182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[waiting list is not full]</text></g><g/></g><g/></g></svg>