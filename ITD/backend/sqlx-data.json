{
  "db": "PostgreSQL",
  "03d46125f0eed546c501c991be795ecabce53dcc61e43ae63e308090f2cf35db": {
    "query": "INSERT INTO temp_customer(code, email, salt, digest) VALUES ($1, $2, $3, $4) RETURNING code, email, salt, digest",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "code",
          "type_info": "Bytea"
        },
        {
          "ordinal": 1,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "salt",
          "type_info": "Bytea"
        },
        {
          "ordinal": 3,
          "name": "digest",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Bytea",
          "Varchar",
          "Bytea",
          "Bytea"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "084c060b0242e50d7b74e2675e751d1b281ef4e1d351f91e8da164f3e8a73ed8": {
    "query": "SELECT ticket.id AS id, customer_id, ticket.shop_id AS shop_id, shop.name as shop_name, array_agg(department.id) AS department_ids, creation, expiration, entry, exit, est_minutes, valid, active\n            FROM ticket, ticket_department, department, shop\n            WHERE ticket_department.ticket_id = ticket.id AND\n                ticket.shop_id = shop.id AND\n                ticket_department.department_id = department.id AND\n                ticket.id = $1\n            GROUP BY ticket.id, customer_id, ticket.shop_id, shop.name, creation, expiration, valid, active",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "customer_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 2,
          "name": "shop_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 3,
          "name": "shop_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "department_ids",
          "type_info": "Int4Array"
        },
        {
          "ordinal": 5,
          "name": "creation",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 6,
          "name": "expiration",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 7,
          "name": "entry",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 8,
          "name": "exit",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 9,
          "name": "est_minutes",
          "type_info": "Int4"
        },
        {
          "ordinal": 10,
          "name": "valid",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "active",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        null,
        false,
        false,
        true,
        true,
        false,
        false,
        false
      ]
    }
  },
  "192bbea17da9300e27f0e91881ecab1e12822fb0bd323ee435da970a6286be32": {
    "query": "SELECT email FROM customer WHERE email = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "email",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "1c93990fa0a0b548c269ae6bb22fba7f03fe8e7dcbfb688b1c6951ed10ce6fa6": {
    "query": "SELECT id FROM customer",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false
      ]
    }
  },
  "1f8bc20899162658e52de6d82859c422f6e50adf96094e7ed8c7109d4e8f8a53": {
    "query": "SELECT id, shop_id FROM department",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "shop_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "2a768241ea4005d197883fce4d60ba2443d2da8a238e221e64d3d66da6988189": {
    "query": "SELECT id, shop_id, description, capacity FROM department\n            WHERE shop_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "shop_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "capacity",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "2de403104534f99a2abe89fbb5f5ed7edf5a8d891007d099dac3f0c9ed30dc95": {
    "query": "SELECT shop_id, dow, open, close FROM schedule\n            WHERE shop_id = $1\n            ORDER BY dow, open",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "shop_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "dow",
          "type_info": "Int2"
        },
        {
          "ordinal": 2,
          "name": "open",
          "type_info": "Timetz"
        },
        {
          "ordinal": 3,
          "name": "close",
          "type_info": "Timetz"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "336867a89e201d271bb47283d8bb3fe9f48c341c99f517e21139994379c13f9e": {
    "query": "SELECT id, email, salt, digest FROM customer WHERE id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "salt",
          "type_info": "Bytea"
        },
        {
          "ordinal": 3,
          "name": "digest",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "4ea44ed57b388fe64856e71d86261700fa1269c6ec47980a0510209d8cba2bb4": {
    "query": "INSERT INTO ticket (customer_id, shop_id, creation, expiration, est_minutes, valid, active) VALUES\n            ($1, $2, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, $3, TRUE, TRUE)\n            RETURNING id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Int4"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "528337ba48a2252b3bb60c5ad79e8dc96df8f8cd76561dc1f431c8381adb5ae3": {
    "query": "SELECT id, customer_id FROM ticket",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "customer_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "85033be72c9ba421351009670c386b66a9a9c9105f476f2af057be31f839cd9b": {
    "query": "INSERT INTO customer(email, salt, digest) VALUES ($1, $2, $3) RETURNING id, email, salt, digest",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "salt",
          "type_info": "Bytea"
        },
        {
          "ordinal": 3,
          "name": "digest",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Varchar",
          "Bytea",
          "Bytea"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "9a191fddbae6f96b422ab60f6d868a8f164d9e95af0168fe13d5a5693f7e348e": {
    "query": "DELETE FROM shop WHERE id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "9b6804990c87b18d7156a551fee08dfcaa357c36837141c59bfc6f014c43e4b2": {
    "query": "SELECT id, email, salt, digest FROM customer WHERE email = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "salt",
          "type_info": "Bytea"
        },
        {
          "ordinal": 3,
          "name": "digest",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "9c67f4835eadeb4646631d8182db2de109c29223d38af60fe637369b1636e7b5": {
    "query": "SELECT id, name, description, image, location FROM shop\n            WHERE id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "image",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "location",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        true,
        false
      ]
    }
  },
  "9d6b9e5bdcdce27dc0b21f3829e18230c8677d02a5b0959e95bcc25569eb242e": {
    "query": "DELETE FROM temp_customer WHERE code = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Bytea"
        ]
      },
      "nullable": []
    }
  },
  "a5ceaad0060269ab121a35aed882b41cefcd90f0ead11cc36ace48e64ae7bbdc": {
    "query": "INSERT INTO shop (name, description, location)\n        VALUES ('TEST', 'TEST', 'TEST') RETURNING id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false
      ]
    }
  },
  "aa458e84cef3ac8a168c6463e51842c5137bf7e7aa6ded0fe7dfbdf415d3e260": {
    "query": "SELECT id, email, salt, digest FROM customer",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "salt",
          "type_info": "Bytea"
        },
        {
          "ordinal": 3,
          "name": "digest",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "b0f4db74b2c552ed138915dea757d43b0712b9865473223791683f85d7d3e4d5": {
    "query": "SELECT ticket.id AS id, customer_id, ticket.shop_id AS shop_id, shop.name as shop_name, array_agg(department.id) AS department_ids, creation, expiration, entry, exit, est_minutes, valid, active\n            FROM ticket, ticket_department, department, shop\n            WHERE\n                ticket_department.ticket_id = ticket.id AND\n                ticket.shop_id = shop.id AND\n                ticket_department.department_id = department.id AND\n                ticket.id = $1\n            GROUP BY ticket.id, customer_id, ticket.shop_id, shop.name, creation, expiration, valid, active",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "customer_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 2,
          "name": "shop_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 3,
          "name": "shop_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "department_ids",
          "type_info": "Int4Array"
        },
        {
          "ordinal": 5,
          "name": "creation",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 6,
          "name": "expiration",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 7,
          "name": "entry",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 8,
          "name": "exit",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 9,
          "name": "est_minutes",
          "type_info": "Int4"
        },
        {
          "ordinal": 10,
          "name": "valid",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "active",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        null,
        false,
        false,
        true,
        true,
        false,
        false,
        false
      ]
    }
  },
  "c04633a30ec2491c55b4f0b110b5392318c11a0ccc2789e36c7e12ad43431052": {
    "query": "SELECT id FROM shop",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false
      ]
    }
  },
  "cb06e851bcff5bbf0c20993b48d95b4fdc39aceddeb30d15b7c144a2a701b169": {
    "query": "DELETE FROM customer WHERE id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "d6b88b5bb41866fecff3ebd175063914925c00c08b9ce7b36b7c0fd4c93c4a67": {
    "query": "INSERT INTO ticket_department (ticket_id, department_id)\n                VALUES ($1, $2)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "d7a5799ee117b1079e9b8ae61836d3c2eb99dfb3c3b0c84abccf85d46e66961f": {
    "query": "UPDATE customer SET salt = $1, digest = $2 WHERE id = $3 RETURNING id, email, salt, digest",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "salt",
          "type_info": "Bytea"
        },
        {
          "ordinal": 3,
          "name": "digest",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Bytea",
          "Bytea",
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "d84426d7e616af65d16a0da524be7cb589b6e862d54d114f32bc3e6aff6f867c": {
    "query": "SELECT ticket.id AS id, customer_id, ticket.shop_id AS shop_id, shop.name as shop_name, array_agg(department.id) AS department_ids, creation, expiration, entry, exit, est_minutes, valid, active\n                FROM ticket, ticket_department, department, shop\n                WHERE\n                    ticket.shop_id = $1 AND\n                    ticket.shop_id = shop.id AND\n                    ticket_department.ticket_id = ticket.id AND\n                    ticket_department.department_id = department.id AND\n                    valid = $2 AND active = $3\n                GROUP BY ticket.id, customer_id, ticket.shop_id, shop.name, creation, expiration, valid, active\n                ORDER BY creation",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "customer_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 2,
          "name": "shop_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 3,
          "name": "shop_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "department_ids",
          "type_info": "Int4Array"
        },
        {
          "ordinal": 5,
          "name": "creation",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 6,
          "name": "expiration",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 7,
          "name": "entry",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 8,
          "name": "exit",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 9,
          "name": "est_minutes",
          "type_info": "Int4"
        },
        {
          "ordinal": 10,
          "name": "valid",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "active",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Bool",
          "Bool"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        null,
        false,
        false,
        true,
        true,
        false,
        false,
        false
      ]
    }
  },
  "dbbbc72cf10924b67b2167fcb998a87b5854022f68b84ab259353e254adb57b7": {
    "query": "SELECT code, email, salt, digest FROM temp_customer WHERE code = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "code",
          "type_info": "Bytea"
        },
        {
          "ordinal": 1,
          "name": "email",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "salt",
          "type_info": "Bytea"
        },
        {
          "ordinal": 3,
          "name": "digest",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Bytea"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "e3dbe4ff24f837b2c678f6c4aa82f9223744b671dace88b7be1c064d343ceca0": {
    "query": "INSERT INTO department ( shop_id, description, capacity)\n        VALUES ($1, 'Frutta', 20) RETURNING id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "ed2c0b97690a8ad498acc51290de285de46618c729b6c51a49eb8dd674cf4d6a": {
    "query": "SELECT ticket.id AS id, customer_id, ticket.shop_id AS shop_id, shop.name as shop_name, array_agg(department.id) AS department_ids, creation, expiration, entry, exit, est_minutes, valid, active\n            FROM ticket, ticket_department, department, shop\n            WHERE ticket_department.ticket_id = ticket.id AND\n                ticket.shop_id = shop.id AND\n                ticket_department.department_id = department.id AND\n                ticket.customer_id = $1\n            GROUP BY ticket.id, customer_id, ticket.shop_id, shop.name, creation, expiration, valid, active\n            ORDER BY creation",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "customer_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 2,
          "name": "shop_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 3,
          "name": "shop_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "department_ids",
          "type_info": "Int4Array"
        },
        {
          "ordinal": 5,
          "name": "creation",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 6,
          "name": "expiration",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 7,
          "name": "entry",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 8,
          "name": "exit",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 9,
          "name": "est_minutes",
          "type_info": "Int4"
        },
        {
          "ordinal": 10,
          "name": "valid",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "active",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        null,
        false,
        false,
        true,
        true,
        false,
        false,
        false
      ]
    }
  }
}